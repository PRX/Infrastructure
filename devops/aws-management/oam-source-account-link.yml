AWSTemplateFormatVersion: 2010-09-09

Parameters:
  MonitoringAccountId:
    Type: String

Conditions:
  SkipMonitoringAccount: !Not
    - !Equals
      - !Ref AWS::AccountId
      - "048723829744"

Resources:
  Link:
    Type: AWS::Oam::Link
    Condition: SkipMonitoringAccount
    Properties:
      LabelTemplate: "$AccountName"
      ResourceTypes:
        - "AWS::CloudWatch::Metric"
        - "AWS::Logs::LogGroup"
        - "AWS::XRay::Trace"
      SinkIdentifier: "arn:aws:oam:us-east-1:048723829744:sink/1b56d7e4-acf0-493a-91ae-43460632a43c"
