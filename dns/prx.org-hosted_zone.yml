# dns/prx.org-hosted_zone.yml
AWSTemplateFormatVersion: "2010-09-09"
Description: Hosted zone and record sets for prx.org

Parameters:
  Domain:
    Default: prx.org.
    Description: The domain name and hosted zone
    Type: String

Resources:
  HostedZone:
    Type: "AWS::Route53::HostedZone"
    Properties:
      HostedZoneConfig:
        Comment: prx.org
      HostedZoneTags:
        - Key: "prx:cloudformation:stack-name"
          Value: !Ref AWS::StackName
        - Key: "prx:cloudformation:stack-id"
          Value: !Ref AWS::StackId
      #   - Key: Project
      #     Value: radiotopia.fm
      Name: !Ref Domain

  Text:
    Type: AWS::Route53::RecordSetGroup
    Properties:
      # Route53 expects TXT record values to be enclosed in double quotes, so in
      # the YAML they need to be double-quoted.
      # Each domain name should only have a single text record. Add multiple
      # resource records if necessary.
      # All SPF records need to go into a single resource record.
      Comment: TXT Records
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - Name: !Ref Domain
          ResourceRecords:
            # SPF
            - '"v=spf1 include:_spf.google.com include:amazonses.com include:mail.zendesk.com include:servers.mcsv.net include:_spf.invoicesherpa.com -all"'
            # DMARC
            - '"v=DMARC1; p=none;pct=100; rua=mailto:dmarc-reports@prx.org; ruf=mailto:dmarc-reports@prx.org"'
            # Domain verification
            - '"amazon-business-verification=ad3856864cdfe75089169fd3d7be80c0bbfa6773e6a80757d107a98de027534b"'
            - '"apple-domain-verification=nd7ZcKMYeWFpLWd1"'
            - '"atlassian-domain-verification=0qLmYvyPRQa/uMaLKELb6Gb81mdCG09UaOQa2alPjlZpFl6W1LHIFqQZA5WXDfq/"'
            - '"google-site-verification=j5qsGbnU-E37T9lsaAYL1967H0ej6iZAeX_vEWcOA-w"'
            - '"google-site-verification=NgVnyJeUZ7gbeAr4l2BeDMfDonC-U6W2VONkOMxb4IM"'
            - '"google-site-verification=j6DW4DZxyKz5eX_UEMJ2zft2FcZquM6DLZCYzKkOeSs"'
            - '"status-page-domain-verification=6n18jv5h9b5d"'
            # Other
            - '"MS=ms48604406"'
          TTL: "300"
          Type: TXT
        # BEGIN APEX DKIM RECORDS >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
        - Name: !Sub cm._domainkey.${Domain} # Campaign Monitor
          ResourceRecords:
            - '"k=rsa; p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDGekjRBpJt4pFq65ZNr8SV8+XPiZ+hjkkBToUAeEqGoZCyXFKVDfCEWbdPnp9W8VGf0o5ZBay5z4sGkkhUSGyCBlp8CvCFw7PQqjb9HfC+PrVVQgIRxMyh0Ea6FvMISPADBHj8mSYS+G6E1CMvXm76OaTIruo3/VRUfHhnTR4lnQIDAQAB"'
          TTL: "300"
          Type: TXT
        - Name: !Sub google._domainkey.${Domain} # Google Workspace
          ResourceRecords:
            - '"v=DKIM1; k=rsa; p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCYbt8bCjEvkdbTiYthVqEtFVySGUqThs+Agsbz7nU2BybHIqo9DCD7xMy9wVfaQOr0uPiKkahvpRVZAFgbYK4o2T7q4tibwb0UoD2LD0X6y+aKN8KWh07vyr17/fq6fiYTeeCIKyz8bufJcEZ1ZatLhlSp5gvUs2CUNWJjwSxh3wIDAQAB"'
          TTL: "300"
          Type: TXT
        - Name: !Sub smtp._domainkey.${Domain}
          ResourceRecords:
            - '"k=rsa; p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDhbR6vE/h4/KEg6lvClOh1PhgDM83LC90coBFLeDhrp5O92VOViTmHbckO+L9fZCvJzIY8ZM1xbY+o1Rlh0ap7afOze2oIdFZC9yaG3Vs3prl0vI2sbLISZqb3pYG9q33Sy3yavI8Hc0LUbYtnSwlzANhgggDX9EMDWjvDE97B3QIDAQAB"'
          TTL: "300"
          Type: TXT
        # END APEX DKIM RECORDS >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
        # BEGIN NOTIFICATIONS SUBDOMAIN RECORDS >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
        - ResourceRecords:
            - '"v=spf1 include:stspg-customer.com ~all"'
          TTL: "300"
          Type: TXT
          Name: !Sub notifications.${Domain}
        - ResourceRecords:
            - '"k=rsa; t=s; p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCUsMXVyvoTUJ3Ov/NAsONt5pXDjUfIJF8h4gZ4qcswAdOXZ8BBqGfLz5uq8PWXdfwZTP8k4aPiqgm8MuGNYXa2Hk974OtgXJSMkJ4XToZHhIXJTxcTO2dpcdn71PBuc4hotsfOGmMP6js3iT2tIppDv+3omcJ/bpb+NoRxpjOuwIDAQAB"'
          TTL: "300"
          Type: TXT
          Name: !Sub m1._domainkey.notifications.${Domain}
        - ResourceRecords:
            - '"k=rsa; p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDGmpjXCnmmwNbMer0teWRN35zZWg6eF+ZhDIBdQtZH46rP8m5G0PylQ7McHLaPOST1V3Ze3tshxU/uuJde9rOyhZxuh+Tp+CkvF+pZYv//84K5Ev4UdWWklaoPS4KnCQyeTNQZdnXOoiMfMtR2Vs4tLV34ngqbCtBLJc9Sz9408QIDAQAB"'
          TTL: "300"
          Type: TXT
          Name: !Sub smtp._domainkey.notifications.${Domain}
        # END NOTIFICATIONS SUBDOMAIN RECORDS <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
        - ResourceRecords:
            - '"E5Armcve3+nXovpZPjTjUOkraFpdG0dcJjxOdScmrMk="'
          TTL: "300"
          Type: TXT
          Name: !Sub _amazonses.${Domain}
        - ResourceRecords:
            - '"72a959b7c3"'
          TTL: "300"
          Type: TXT
          Name: !Sub _github-challenge-PRX.${Domain}
        - ResourceRecords:
            - '"345d72b442"'
          TTL: "300"
          Type: TXT
          Name: !Sub _github-challenge-PRX.www.${Domain}
        - ResourceRecords:
            - '"k=rsa; t=s; p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDPtW5iwpXVPiH5FzJ7Nrl8USzuY9zqqzjE0D1r04xDN6qwziDnmgcFNNfMewVKN2D1O+2J9N14hRprzByFwfQW76yojh54Xu3uSbQ3JP0A7k8o8GutRF8zbFUA8n0ZH2y0cIEjMliXY4W4LwPA7m4q0ObmvSjhd63O9d8z1XkUBwIDAQAB"'
          TTL: "300"
          Type: TXT
          Name: !Sub smtpapi._domainkey.${Domain}
        - ResourceRecords:
            - '"884ea8a417ab496f"'
          TTL: "300"
          Type: TXT
          Name: !Sub zendesk_verification.${Domain}
  Verification:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: CNAME records for domain verification
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - gv-6ejzc4qvwiyxn7.dv.googlehosted.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub lihvrd6fmhem.metrics.${Domain}
  DotTech:
    Type: AWS::Route53::RecordSetGroup
    Properties:
      Comment: Public-facing domains for apps managed on .tech
      HostedZoneId: !Ref HostedZone
      RecordSets:
        # Apex domain
        - AliasTarget:
            DNSName: d1txozk2299k6z.cloudfront.net
            HostedZoneId: Z2FDTNDATAQYW2
          Name: !Ref Domain
          Type: A
        - AliasTarget:
            DNSName: d1txozk2299k6z.cloudfront.net
            HostedZoneId: Z2FDTNDATAQYW2
          Name: !Ref Domain
          Type: AAAA

        # Augury
        - Name: !Sub augury.${Domain}
          ResourceRecords:
            - augury.prx.tech.
          TTL: "300"
          Type: CNAME

        # Backsaw
        - Name: !Sub backsaw.${Domain}
          ResourceRecords:
            - backsaw.prx.tech.
          TTL: "300"
          Type: CNAME

        # Feeder
        - Name: !Sub feeder.${Domain}
          ResourceRecords:
            - feeder.prx.tech.
          TTL: "300"
          Type: CNAME

        # ID
        - Name: !Sub id.${Domain}
          ResourceRecords:
            - id.prx.tech.
          TTL: "300"
          Type: CNAME

        # Metrics
        - Name: !Sub metrics.${Domain}
          ResourceRecords:
            - metrics.prx.tech.
          TTL: "300"
          Type: CNAME

        # Play
        - Name: !Sub play.${Domain}
          ResourceRecords:
            - play.prx.tech.
          TTL: "300"
          Type: CNAME

        # Publish
        - Name: !Sub publish.${Domain}
          ResourceRecords:
            - publish.prx.tech.
          TTL: "300"
          Type: CNAME

        # WWW
        - Name: !Sub www.${Domain}
          ResourceRecords:
            # - proxy.prx.tech.
            - d1txozk2299k6z.cloudfront.net.
          TTL: "300"
          Type: CNAME
  PrxDotOrg:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: prx.org and www.prx.org
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - exchange.prx.tech.
          TTL: "300"
          Type: CNAME
          Name: !Sub exchange.${Domain}
        - ResourceRecords:
            - exchange.prx.tech.
          TTL: "300"
          Type: CNAME
          Name: !Sub api.${Domain}
        - ResourceRecords:
            - networks.prx.tech.
          TTL: "300"
          Type: CNAME
          Name: !Sub networks.${Domain}
  DotOrg:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: Legacy prx.org subdomains
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - !Sub id.${Domain}
          TTL: "300"
          Type: CNAME
          Name: !Sub auth.${Domain}
        - ResourceRecords:
            - !Sub experiments.${Domain}
          TTL: "300"
          Type: CNAME
          Name: !Sub x.${Domain}
        - ResourceRecords:
            - !Sub cms.${Domain}
          TTL: "300"
          Type: CNAME
          Name: !Sub hal.${Domain}
        - ResourceRecords:
            - !Sub staging.m.${Domain}
          TTL: "300"
          Type: CNAME
          Name: !Sub m-staging.${Domain}
        - ResourceRecords:
            - "107.20.211.130"
          TTL: "300"
          Type: A
          Name: !Sub beta.fixer.${Domain}
        - ResourceRecords:
            - "54.226.135.135"
          TTL: "300"
          Type: A
          Name: !Sub experiments.${Domain}
        - ResourceRecords:
            - "184.73.205.19"
          TTL: "300"
          Type: A
          Name: !Sub four.${Domain}
        - ResourceRecords:
            - "107.20.215.126"
          TTL: "300"
          Type: A
          Name: !Sub fixer.${Domain}
        - ResourceRecords:
            - prx-categorizer.herokuapp.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub categorizer.${Domain}
  Contegix:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: Contegix servers
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - prx01.managed.contegix.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub prx01.${Domain}
        - ResourceRecords:
            - prx04.managed.contegix.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub prx04.${Domain}
  Static:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: Static assets
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - Type: A
          Name: !Sub media.${Domain}
          AliasTarget:
            DNSName: dthqzwgikidi.cloudfront.net
            # Global CloudFront hosted zone ID
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: AAAA
          Name: !Sub media.${Domain}
          AliasTarget:
            DNSName: dthqzwgikidi.cloudfront.net
            # Global CloudFront hosted zone ID
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: A
          Name: !Sub assets2.${Domain}
          AliasTarget:
            DNSName: d3qpqdoc1119ok.cloudfront.net
            # Global CloudFront hosted zone ID
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: AAAA
          Name: !Sub assets2.${Domain}
          AliasTarget:
            DNSName: d3qpqdoc1119ok.cloudfront.net
            # Global CloudFront hosted zone ID
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: A
          Name: !Sub assets1.${Domain}
          AliasTarget:
            DNSName: d3qpqdoc1119ok.cloudfront.net
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: AAAA
          Name: !Sub assets1.${Domain}
          AliasTarget:
            DNSName: d3qpqdoc1119ok.cloudfront.net
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: A
          Name: !Sub cdn-exchange.${Domain}
          AliasTarget:
            DNSName: d3qpqdoc1119ok.cloudfront.net
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: AAAA
          Name: !Sub cdn-exchange.${Domain}
          AliasTarget:
            DNSName: d3qpqdoc1119ok.cloudfront.net
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: A
          Name: !Sub cdn-reveal.${Domain}
          AliasTarget:
            DNSName: d3ojv6bn0r3eph.cloudfront.net.
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: AAAA
          Name: !Sub cdn-reveal.${Domain}
          AliasTarget:
            DNSName: d3ojv6bn0r3eph.cloudfront.net.
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: A
          Name: !Sub cdn.reveal.${Domain}
          AliasTarget:
            DNSName: d3ojv6bn0r3eph.cloudfront.net.
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: AAAA
          Name: !Sub cdn.reveal.${Domain}
          AliasTarget:
            DNSName: d3ojv6bn0r3eph.cloudfront.net.
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: A
          Name: !Sub cdn-allusionist.${Domain}
          AliasTarget:
            DNSName: d2ay8vht0p7hxt.cloudfront.net.
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: AAAA
          Name: !Sub cdn-allusionist.${Domain}
          AliasTarget:
            DNSName: d2ay8vht0p7hxt.cloudfront.net.
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: A
          Name: !Sub cdn.allusionist.${Domain}
          AliasTarget:
            DNSName: d2ay8vht0p7hxt.cloudfront.net.
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: AAAA
          Name: !Sub cdn.allusionist.${Domain}
          AliasTarget:
            DNSName: d2ay8vht0p7hxt.cloudfront.net.
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: A
          Name: !Sub themoth.${Domain}
          AliasTarget:
            DNSName: dwa2z82v27lla.cloudfront.net.
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: AAAA
          Name: !Sub themoth.${Domain}
          AliasTarget:
            DNSName: dwa2z82v27lla.cloudfront.net.
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: A
          Name: !Sub blog.${Domain}
          AliasTarget:
            DNSName: d1uuj4xcfminz6.cloudfront.net.
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: AAAA
          Name: !Sub blog.${Domain}
          AliasTarget:
            DNSName: d1uuj4xcfminz6.cloudfront.net.
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: A
          Name: !Sub transistor.${Domain}
          AliasTarget:
            DNSName: d3nn7rnvuqkyn9.cloudfront.net.
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: AAAA
          Name: !Sub transistor.${Domain}
          AliasTarget:
            DNSName: d3nn7rnvuqkyn9.cloudfront.net.
            HostedZoneId: Z2FDTNDATAQYW2
  Prss:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: Legacy PRSS end point
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - "205.153.38.233"
          TTL: "300"
          Type: A
          Name: !Sub prss.${Domain}
  Localhost:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: Localhost
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - "127.0.0.1"
          TTL: "3600"
          Type: A
          Name: !Sub localhost.${Domain}
  Prx01:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: PRX01
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - "199.119.122.228"
          TTL: "300"
          Type: A
          Name: !Sub ed.${Domain}
        - ResourceRecords:
            - "199.119.122.228"
          TTL: "300"
          Type: A
          Name: !Sub studs.${Domain}
        - ResourceRecords:
            - "199.119.122.228"
          TTL: "300"
          Type: A
          Name: !Sub assignments.${Domain}
        - ResourceRecords:
            - "199.119.122.228"
          TTL: "300"
          Type: A
          Name: !Sub analytics.${Domain}
        - ResourceRecords:
            - "199.119.122.228"
          TTL: "300"
          Type: A
          Name: !Sub activemq.${Domain}
        - ResourceRecords:
            - "199.119.122.228"
          TTL: "300"
          Type: A
          Name: !Sub audition.${Domain}
        - ResourceRecords:
            - "199.119.122.228"
          TTL: "300"
          Type: A
          Name: !Sub castle.${Domain}
        - ResourceRecords:
            - "199.119.122.228"
          TTL: "300"
          Type: A
          Name: !Sub files-local.${Domain}
        - ResourceRecords:
            - "199.119.122.228"
          TTL: "300"
          Type: A
          Name: !Sub moving.${Domain}
        - ResourceRecords:
            - "199.119.122.228"
          TTL: "300"
          Type: A
          Name: !Sub mp3download.${Domain}
        - ResourceRecords:
            - "199.119.122.228"
          TTL: "300"
          Type: A
          Name: !Sub ntop.srg01.${Domain}
        - ResourceRecords:
            - "199.119.122.228"
          TTL: "300"
          Type: A
          Name: !Sub onassignment.${Domain}
        - ResourceRecords:
            - "199.119.122.228"
          TTL: "300"
          Type: A
          Name: !Sub streams.${Domain}
        - ResourceRecords:
            - "199.119.122.228"
          TTL: "300"
          Type: A
          Name: !Sub tcf.${Domain}
        - ResourceRecords:
            - "199.119.122.228"
          TTL: "300"
          Type: A
          Name: !Sub webstats.srg01.${Domain}
        - ResourceRecords:
            - "199.119.122.229"
          TTL: "300"
          Type: A
          Name: !Sub count.${Domain}
  Prx02:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: PRX02
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub admin.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub about.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub ballotvox.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub g2.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub g.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub blogdev.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub fisheye.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub jira.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub wptest.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub staging.solr.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub staging.activemq.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub staging.count.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub staging.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub staging.thecastle.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub staging.castle.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub staging.tcf.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub staging.onassignment.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub staging.assignment.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub assignment.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub staging.fixer.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub svn.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub wiki.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub apps.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub staging.assignments.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub toe.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub pmx.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub reveal.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub stem.${Domain}
  Prx03:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: PRX03
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - "199.119.122.231"
          TTL: "300"
          Type: A
          Name: !Sub wburapp.${Domain}
        - ResourceRecords:
            - "199.119.122.231"
          TTL: "300"
          Type: A
          Name: !Sub staging.wburapp.${Domain}
  Prx04:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: PRX04
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - "199.119.122.232"
          TTL: "300"
          Type: A
          Name: !Sub search.${Domain}
        - Type: A
          Name: !Sub beta.${Domain}
          AliasTarget:
            DNSName: d2p9vihsjy95d2.cloudfront.net
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: AAAA
          Name: !Sub beta.${Domain}
          AliasTarget:
            DNSName: d2p9vihsjy95d2.cloudfront.net
            HostedZoneId: Z2FDTNDATAQYW2
        - ResourceRecords:
            - "199.119.122.233"
          TTL: "300"
          Type: A
          Name: !Sub listen.${Domain}
        - ResourceRecords:
            - "199.119.122.233"
          TTL: "300"
          Type: A
          Name: !Sub m.${Domain}
        - ResourceRecords:
            - cms.prx.tech.
          TTL: "300"
          Type: CNAME
          Name: !Sub cms.${Domain}
        - ResourceRecords:
            - "199.119.122.233"
          TTL: "300"
          Type: A
          Name: !Sub staging.m.${Domain}
        - ResourceRecords:
            - "199.119.122.233"
          TTL: "300"
          Type: A
          Name: !Sub login.${Domain}
        - ResourceRecords:
            - "199.119.122.233"
          TTL: "300"
          Type: A
          Name: !Sub alpha.${Domain}
  Studs:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: Studs
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - !Sub studs.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub collaboration.${Domain}
        - ResourceRecords:
            - !Sub studs.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub demo.${Domain}
        - ResourceRecords:
            - !Sub studs.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub dev.collaboration.${Domain}
        - ResourceRecords:
            - !Sub studs.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub dlmgr-files.${Domain}
        - ResourceRecords:
            - !Sub studs.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub dlmgr.${Domain}
        - ResourceRecords:
            - !Sub studs.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub download.${Domain}
        - ResourceRecords:
            - !Sub studs.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub dropbox.${Domain}
        - ResourceRecords:
            - !Sub studs.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub edithelp.${Domain}
        - ResourceRecords:
            - !Sub studs.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub eradio.${Domain}
        - ResourceRecords:
            - !Sub studs.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub ftp.${Domain}
        - ResourceRecords:
            - !Sub studs.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub legacy.${Domain}
        - ResourceRecords:
            - !Sub studs.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub loadingdock.${Domain}
        - ResourceRecords:
            - !Sub studs.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub mp3audition.${Domain}
        - ResourceRecords:
            - !Sub studs.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub newhome.${Domain}
        - ResourceRecords:
            - !Sub studs.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub prpdawards.${Domain}
        - ResourceRecords:
            - !Sub studs.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub prssstreams.${Domain}
        - ResourceRecords:
            - !Sub studs.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub v1.${Domain}
        - ResourceRecords:
            - !Sub studs.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub ws.${Domain}
  Ed:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: Ed
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - !Sub ed.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub audition2.${Domain}
        - ResourceRecords:
            - !Sub ed.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub help2.${Domain}
        - ResourceRecords:
            - !Sub ed.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub mp3download2.${Domain}
        - ResourceRecords:
            - !Sub ed.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub prssstreams2.${Domain}
        - ResourceRecords:
            - !Sub ed.${Domain}
          TTL: "3600"
          Type: CNAME
          Name: !Sub streams2.${Domain}
  Legacy:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: Various legacy resources
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub podcast.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub podcasts.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub widgetsdemo.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub www.podcast.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub www.podcasts.${Domain}
        - ResourceRecords:
            - "199.119.122.230"
          TTL: "300"
          Type: A
          Name: !Sub saltcast.${Domain}
        - ResourceRecords:
            - s3.amazonaws.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub andrew-s3.${Domain}
        - ResourceRecords:
            - s3.amazonaws.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub content-dev.${Domain}
        - ResourceRecords:
            - s3.amazonaws.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub files.${Domain}
        - ResourceRecords:
            - s3.amazonaws.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub files-test.${Domain}
        - ResourceRecords:
            - s3.amazonaws.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub files-dev.${Domain}
        - ResourceRecords:
            - s3.amazonaws.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub matt-s3.${Domain}
        - ResourceRecords:
            - s3.amazonaws.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub nathan-s3.${Domain}
        - ResourceRecords:
            - s3.amazonaws.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub robert-s3.${Domain}
        - ResourceRecords:
            - s3-website-us-east-1.amazonaws.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub campaignaudio.${Domain}
        - ResourceRecords:
            - s3-website-us-east-1.amazonaws.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub economybeat.${Domain}
        - ResourceRecords:
            - s3-website-us-east-1.amazonaws.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub economystory.${Domain}
        - Type: A
          Name: !Sub youthradioleaders.${Domain}
          AliasTarget:
            DNSName: d43em5aywokfv.cloudfront.net
            # Global CloudFront hosted zone ID
            HostedZoneId: Z2FDTNDATAQYW2
        - Type: AAAA
          Name: !Sub youthradioleaders.${Domain}
          AliasTarget:
            DNSName: d43em5aywokfv.cloudfront.net
            # Global CloudFront hosted zone ID
            HostedZoneId: Z2FDTNDATAQYW2
  Feedburner:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: Feedburner
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - Name: !Sub feeds.${Domain}
          ResourceRecords:
            - io25k.feedproxy.ghs.google.com.
          TTL: "300"
          Type: CNAME
  GitHub:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: GitHub
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - prx.github.io.
          TTL: "300"
          Type: CNAME
          Name: !Sub labs.${Domain}
  Bitly:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: Bitly
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - cname.bitly.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub on.${Domain}
  ShortIo:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: Short.io
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - "52.21.33.16"
            - "52.2.56.64"
          TTL: "300"
          Type: A
          Name: !Sub surveys.${Domain}
        - ResourceRecords:
            - "52.21.33.16"
            - "52.2.56.64"
          TTL: "300"
          Type: A
          Name: !Sub survey.${Domain}
  Cambridge:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: Cambridge Office
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - "74.94.129.158"
          TTL: "3600"
          Type: A
          Name: !Sub cambridge.${Domain}
  Chef:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: Chef
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - "107.21.98.161"
          TTL: "300"
          Type: A
          Name: !Sub chef.${Domain}
        - ResourceRecords:
            - "107.21.98.161"
          TTL: "300"
          Type: A
          Name: !Sub munin.${Domain}
        - ResourceRecords:
            - "107.21.98.161"
          TTL: "300"
          Type: A
          Name: !Sub beta.munin.${Domain}
        - ResourceRecords:
            - "107.21.98.161"
          TTL: "300"
          Type: A
          Name: !Sub jenkins.${Domain}
  HowSound:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: HowSound
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - howsound.prx.netdna-cdn.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub cdn.howsound.${Domain}
  TheMoth:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: The Moth
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - pc-a.bitgravity.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub cdn1.themoth.${Domain}
        - ResourceRecords:
            - wwwthemoth.prx.netdna-cdn.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub assets.themoth.${Domain}
  AmazonSes:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: SES DKIM
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - gzyw7nc2rjfy5u6qplqkbbfuv4tdg5mc.dkim.amazonses.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub gzyw7nc2rjfy5u6qplqkbbfuv4tdg5mc._domainkey.${Domain}
        - ResourceRecords:
            - yqwoyh6wt54oqnyelxkn5hdaxkk52kv6.dkim.amazonses.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub yqwoyh6wt54oqnyelxkn5hdaxkk52kv6._domainkey.${Domain}
        - ResourceRecords:
            - dqoamfgwjnqyjzoe2rrvwkluoh7ee46v.dkim.amazonses.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub dqoamfgwjnqyjzoe2rrvwkluoh7ee46v._domainkey.${Domain}
  Statuspage:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: Statuspage
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - zlzvfpy9x7fy.stspg-customer.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub status.${Domain}
        - ResourceRecords:
            - spg.domainkey.u1834393.wl144.sendgrid.net.
          TTL: "300"
          Type: CNAME
          Name: !Sub spg._domainkey.notifications.${Domain}
        - ResourceRecords:
            - spg2.domainkey.u1834393.wl144.sendgrid.net.
          TTL: "300"
          Type: CNAME
          Name: !Sub spg2._domainkey.notifications.${Domain}
        - ResourceRecords:
            - u1834393.wl144.sendgrid.net.
          TTL: "300"
          Type: CNAME
          Name: !Sub statuspage-notifications.notifications.${Domain}
  ZenDesk:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: ZenDesk
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - prx.zendesk.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub help.${Domain}
        - ResourceRecords:
            - mail1.zendesk.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub zendesk1.${Domain}
        - ResourceRecords:
            - mail2.zendesk.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub zendesk2.${Domain}
        - ResourceRecords:
            - mail3.zendesk.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub zendesk3.${Domain}
        - ResourceRecords:
            - mail4.zendesk.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub zendesk4.${Domain}
  Squarespace:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: Squarespace
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - verify.squarespace.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub h4g4kwd8yd3nhbxj4a5z.${Domain}
        - ResourceRecords:
            - verify.squarespace.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub tydshd7bc7mddya37xk3.${Domain}
        - ResourceRecords:
            - ext-cust.squarespace.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub catapult.${Domain}
        - ResourceRecords:
            - verify.squarespace.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub 4a4scdp8wg8t76rfa22j.${Domain}
        - ResourceRecords:
            - ext-cust.squarespace.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub googlecp.${Domain}
  GSuite:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      Comment: G Suite
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - ResourceRecords:
            - ghs.googlehosted.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub calendar.${Domain}
        - ResourceRecords:
            - ghs.googlehosted.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub mail.${Domain}
        - ResourceRecords:
            - ghs.googlehosted.com.
          TTL: "300"
          Type: CNAME
          Name: !Sub guidebook.${Domain}
        - ResourceRecords:
            - "1 ASPMX.L.GOOGLE.COM."
            - "5 ALT1.ASPMX.L.GOOGLE.COM."
            - "5 ALT2.ASPMX.L.GOOGLE.COM."
            - "10 ASPMX2.GOOGLEMAIL.COM."
            - "10 ASPMX3.GOOGLEMAIL.COM."
          TTL: "300"
          Type: MX
          Name: !Ref Domain
  MailChimp:
    Type: AWS::Route53::RecordSetGroup
    Properties:
      Comment: MailChimp
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - Name: !Sub k1._domainkey.${Domain}
          ResourceRecords:
            - dkim.mcsv.net.
          TTL: "300"
          Type: CNAME
  Kannu:
    Type: AWS::Route53::RecordSetGroup
    Properties:
      Comment: Kannu
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - Name: !Sub soundschool.${Domain}
          ResourceRecords:
            - prx.kannu.com.
          TTL: "300"
          Type: CNAME
        - Name: !Sub _812f2ace0001ab6d5f847b1b513e7231.soundschool.${Domain}
          ResourceRecords:
            - _6e1b8a4a6d26f0cc77491cfe3e2c416a.auiqqraehs.acm-validations.aws.
          TTL: "300"
          Type: CNAME
  AwsAcmLegacyUsEast1:
    Type: AWS::Route53::RecordSetGroup
    Properties:
      Comment: AWS ACM validation records for prx-legacy in us-east-1
      HostedZoneId: !Ref HostedZone
      RecordSets:
        # play.prx.org
        - Name: !Sub _8d09676a833865f3cf06c51a75ead3e6.play.${Domain}
          ResourceRecords:
            - _0902f8141c71ef447fee9033925c4428.hkmpvcwbzw.acm-validations.aws.
          TTL: "3600"
          Type: CNAME
        # prx.org
        - Name: !Sub _81a7e2b5cf0c4f79d7188da0f03ae72d.${Domain}
          ResourceRecords:
            - _3be53bb29ca3174c2bf7d3af1ba8138d.ltfvzjuylp.acm-validations.aws.
          TTL: "3600"
          Type: CNAME
        # www.prx.org
        - Name: !Sub _77f825fef8e66773824cae9664b30f4b.www.${Domain}
          ResourceRecords:
            - _02d6b548b20de21df506dda97d2d93cf.nhqijqilxf.acm-validations.aws.
          TTL: "3600"
          Type: CNAME
        # proxy.prx.org
        - Name: !Sub _f3668666f8f3d4e418cd356d3b9a2b24.proxy.${Domain}
          ResourceRecords:
            - _2b3bfdcd1d1cc385a835e1817c9d85e9.nhqijqilxf.acm-validations.aws.
          TTL: "3600"
          Type: CNAME
        # assets.prx.org
        - Name: !Sub _32d33e14d4cd8184f3bc20cb3a7196f8.assets.${Domain}
          ResourceRecords:
            - _dd2283fe6b42a7526f7b9739e0638906.ltfvzjuylp.acm-validations.aws.
          TTL: "3600"
          Type: CNAME
        # assets1.prx.org
        - Name: !Sub _4e92e0c7ba90a9161b249e971d78bb34.assets1.${Domain}
          ResourceRecords:
            - _60dffc2d9ad10247fa937a2c9363a8dc.ltfvzjuylp.acm-validations.aws.
          TTL: "3600"
          Type: CNAME
        # assets2.prx.org
        - Name: !Sub _9664e08413d050d9ce94ac5e7ba8d11c.assets2.${Domain}
          ResourceRecords:
            - _dd8fc717a9e1812a20ca609d2673b50e.ltfvzjuylp.acm-validations.aws.
          TTL: "3600"
          Type: CNAME
        - Name: !Sub _13508a876b64465c58be4bfe738438d3.beta.${Domain}
          ResourceRecords:
            - _e829af98d504966c824f814e5235d3f8.ltfvzjuylp.acm-validations.aws.
          TTL: "3600"
          Type: CNAME
        # cdn.allusionist.prx.org
        - Name: !Sub _ed818192c01d69685019f0df4a93b99d.cdn.allusionist.${Domain}
          ResourceRecords:
            - _b723750b6c4dd2b56d92bec85cbf575e.acm-validations.aws.
          TTL: "3600"
          Type: CNAME
        # cdn-allusionist.prx.org
        - Name: !Sub _d5d3126a9ebf5763eeabec3b0c91cf7f.cdn-allusionist.${Domain}
          ResourceRecords:
            - _bcd204f81f26c5e2d4644e2a799e8965.ltfvzjuylp.acm-validations.aws.
          TTL: "3600"
          Type: CNAME
        # backsaw.prx.org
        - Name: !Sub _265f020ebc4af9d79a6e4079a4fc72b6.backsaw.${Domain}
          ResourceRecords:
            - _8f30879a8a9a0d132885fba98b38f78a.ltfvzjuylp.acm-validations.aws.
          TTL: "3600"
          Type: CNAME
        # cdn.reveal.prx.org
        - Name: !Sub _49790bcba62376a77d03ff169fde946a.cdn.reveal.${Domain}
          ResourceRecords:
            - _ec7e44da2ad2e5f0def8682144d83c6d.ltfvzjuylp.acm-validations.aws.
          TTL: "3600"
          Type: CNAME
        # cdn-reveal.prx.org
        - Name: !Sub _ad9004a66622eb27bec8d010561361ea.cdn-reveal.${Domain}
          ResourceRecords:
            - _6422d90655dea26fb64242eec0459ede.ltfvzjuylp.acm-validations.aws.
          TTL: "3600"
          Type: CNAME
        # media.prx.org
        - Name: !Sub _a544dad876ab54f2e7cd244158b65ea7.media.${Domain}
          ResourceRecords:
            - _4ce52ca1a07e39ab0c68b5d2ac294210.ltfvzjuylp.acm-validations.aws.
          TTL: "3600"
          Type: CNAME
        # youthradioleaders.prx.org
        - Name: !Sub _9784f5f1de33eb78c3db79157146f598.youthradioleaders.${Domain}
          ResourceRecords:
            - _78f937ab800800d5b4e66192d62246d9.auiqqraehs.acm-validations.aws.
          TTL: "3600"
          Type: CNAME
        # staging.prx.org
        - Name: !Sub _c734a125558ad81f4bddc3bf33a25a24.staging.${Domain}
          ResourceRecords:
            - _a8bee31e51e6de781121aed08bcbf4d1.hkmpvcwbzw.acm-validations.aws.
          TTL: "3600"
          Type: CNAME
        # feeder.prx.org
        - Name: !Sub _16d5396a2320cf95e39991f091461469.feeder.${Domain}
          ResourceRecords:
            - _22643ddfaf18052fb2db89f0e05cc559.zjfbrrwmzc.acm-validations.aws.
          TTL: "3600"
          Type: CNAME
  Classy:
    Type: AWS::Route53::RecordSetGroup
    Properties:
      Comment: Classy
      HostedZoneId: !Ref HostedZone
      RecordSets:
        - Name: !Sub give.${Domain}
          ResourceRecords:
            - vanity.classy.org.
          TTL: "300"
          Type: CNAME
