AWSTemplateFormatVersion: "2010-09-09"
Description: >
  Creates a wildcafrd ACM certificate for the standard VPC created by the root
  stack (eg *.vpc-af124354.prx.tech)
Parameters:
  VPC:
     Type: String
Resources:
  VpcCertificate:
    Type: "AWS::CertificateManager::Certificate"
    Properties:
      DomainName: !Sub *.${VPC}.prx.tech
      DomainValidationOptions:
        - ValidationDomain: prx.tech
          DomainName: !Sub *.${VPC}.prx.tech
Outputs:
  CertificateArn:
    Description: The ARN for the wildcard certificate
    Value: !Ref VpcCertificate
